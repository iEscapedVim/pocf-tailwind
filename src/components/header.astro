---
import { Icon } from 'astro-icon/components';
import { Image } from 'astro:assets';

import Logo from '@imgs/logo.png';
import Menu from '@comps/menu.astro';

import Membership from './members/membership.astro';
---
<header class="w-full flex flex-col">
    <!-- Top Bar -->
    <div class="bg-secondary w-full py-3">
        <div class="w-11/12 mx-auto text-gray-400 lora text-sm font-bold">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="flex gap-3 justify-center lg:justify-start items-center">
                    <Icon name="donate" class="w-6 h-6" />
                    <p class="m-0">No one has Ever Become Poor from Giving! </p>
                </div>
                <div class="flex gap-3 justify-center lg:justify-end items-center">
                    <p class="m-0">Phone:  <a href="tel:923325488876" class="underline text-white hover:no-underline hover:text-gray-400"> +92 (332) 548 8876</a>, <a href="tel:923487988211" class="underline text-white hover:no-underline hover:text-gray-400">+92 (348) 798 8211</a></p>
                    <p class="m-0">Mail: Info@example.com</p>
                </div>
            </div>
        </div>
    </div>
    <!-- Logo & Membership Button -->
    <div class="bg-white text-secondary w-11/12 grid grid-cols-1 md:grid-cols-2 mx-auto gap-6 py-3">
        <div class="flex justify-center lg:justify-start items-center">
            <Image src={Logo} alt="POCF Logo" loading="eager" />
        </div>
        <div class="flex justify-center lg:justify-end items-center">
            <button class="make-member-button border-0 focus:border-0 ring-0 focus:ring-0 outline-0 focus:outline-0 py-2 px-3 lora italic text-[11px] md:text-sm font-bold flex flex-row justify-center items-center gap-2 group bg-secondary text-white hover:bg-primary hover:text-secondary">
                <Icon name="heart" class="text-primary group-hover:text-secondary w-5 h-auto" />
                Become a Member
            </button>
            <Membership />
        </div>
    </div>
    <!-- Navbar -->
    <nav class="w-full bg-primary text-secondary text-md">
      <div class="w-11/12 flex flex-wrap items-center justify-between mx-auto">
        <button data-collapse-toggle="navbar-default" type="button" class="flex mx-auto p-2 w-10 h-10 justify-center items-center text-sm text-secondary md:hidden" aria-controls="navbar-default" aria-expanded="false">
            <span class="sr-only">Open main menu</span>
            <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"/>
            </svg>
        </button>
        <div class="hidden w-full md:block md:w-auto" id="navbar-default">
            <Menu />
        </div>
      </div>
  </nav>
</header>
<script>
    document.addEventListener('astro:page-load', () => {
        const button = document.querySelector('[data-collapse-toggle="navbar-default"]');
        const menu = document.getElementById('navbar-default');

        if (button && menu) {
            button.addEventListener('click', () => {
                menu.classList.toggle('hidden');
            });

            window.addEventListener('resize', () => {
                if (window.innerWidth >= 768) {
                    menu.classList.remove('hidden');
                } else {
                    menu.classList.add('hidden');
                }
            });
        }
    });
</script>

<style>
    nav li a {
        padding-top: 15px;
        padding-bottom: 15px;
    }
    a:hover {
        margin-top: -1px;
    }
    .active {
        border-top: 1px solid;
    }
    header nav {
        display: inline-block;
        width: 100%;
        position: relative;
        z-index: 10;
        background: #ecc731;
    }
    header nav:before {
        height: 1px;
        content: "";
        background: #fff;
        position: absolute;
        width: 100%;
        margin-top: 1px;
    }
</style>