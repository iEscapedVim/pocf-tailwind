---
import RecentCard from "./recentCard.astro";

import { getCollection } from 'astro:content';
const recentStories = await getCollection("stories");
---
<section class="py-8 mb-20 flex flex-col justify-center items-center">
    <div class="flex flex-col justify-center items-center py-12">
        <h2 class="text-[40px] font-normal lora">Fresh From The <b>Stories</b></h2>
        <p class="capitalize text-secondary lato font-bold">Every charitable act is a stepping stone toward heaven</p>
    </div>

    <div class="w-11/12 grid grid-cols-12 gap-12 mx-auto">
        {recentStories.sort((a: { data: { pubDate: string | number | Date; }; }, b: { data: { pubDate: string | number | Date; }; }) => new Date(b.data.pubDate).getTime() - new Date(a.data.pubDate).getTime()).slice(0, 4).map((p: any) => <RecentCard post={p}/>)}        
    </div>
</section>